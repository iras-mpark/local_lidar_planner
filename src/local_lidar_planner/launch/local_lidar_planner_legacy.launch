<launch>

  <arg name="sensorOffsetX" default="0.0"/>
  <arg name="sensorOffsetY" default="0.0"/>
  <arg name="cameraOffsetZ" default="0.0"/>
  <arg name="twoWayDrive" default="true"/>
  <arg name="maxSpeed" default="1.0"/>
  <arg name="autonomyMode" default="true"/>
  <arg name="autonomySpeed" default="0.5"/>
  <arg name="joyToSpeedDelay" default="1.0"/>
  <arg name="goalCloseDis" default="0.4"/>
  <arg name="adjacentRange" default="3.0"/>
  <arg name="is_real_robot" default="false"/>
  <arg name="laserTopic" default="/utlidar/cloud"/>
  <arg name="laserFixedFrame" default="base_link"/>
  <arg name="lidar_x" default="0.0"/>
  <arg name="lidar_y" default="0.0"/>
  <arg name="lidar_z" default="0.0"/>
  <arg name="lidar_roll" default="0.0"/>
  <arg name="lidar_pitch" default="0.0"/>
  <arg name="lidar_yaw" default="0.0"/>

  <node pkg="local_lidar_planner" exec="local_lidar_planner_node" name="local_lidar_planner" output="screen">
    <param name="pathFolder" value="$(find-pkg-share local_lidar_planner)/paths" />
    <param name="vehicleLength" value="0.3" />
    <param name="vehicleWidth" value="0.7" />
    <param name="sensorOffsetX" value="$(var sensorOffsetX)" />
    <param name="sensorOffsetY" value="$(var sensorOffsetY)" />
    <param name="cameraOffsetZ" value="$(var cameraOffsetZ)" />
    <param name="twoWayDrive" value="$(var twoWayDrive)" />
    <param name="maxSpeed" value="$(var maxSpeed)" />
    <param name="autonomyMode" value="$(var autonomyMode)" />
    <param name="autonomySpeed" value="$(var autonomySpeed)" />
    <param name="joyToSpeedDelay" value="$(var joyToSpeedDelay)" />
    <param name="goalCloseDis" value="$(var goalCloseDis)" />
    <param name="adjacentRange" value="$(var adjacentRange)" />
    <param name="useTerrainAnalysis" value="false" />
    <param name="laserTopic" value="$(var laserTopic)" />
    <param name="laserFixedFrame" value="$(var laserFixedFrame)" />
  </node>

  <node pkg="local_lidar_planner" exec="path_follower_node" name="path_follower" output="screen">
    <param name="sensorOffsetX" value="$(var sensorOffsetX)" />
    <param name="sensorOffsetY" value="$(var sensorOffsetY)" />
    <param name="twoWayDrive" value="$(var twoWayDrive)" />
    <param name="maxSpeed" value="$(var maxSpeed)" />
    <param name="autonomyMode" value="$(var autonomyMode)" />
    <param name="autonomySpeed" value="$(var autonomySpeed)" />
    <param name="joyToSpeedDelay" value="$(var joyToSpeedDelay)" />
    <param name="goalCloseDis" value="$(var goalCloseDis)" />
    <param name="is_real_robot" value="$(var is_real_robot)" />
  </node>

  <node pkg="tf2_ros" exec="static_transform_publisher" name="utlidar_to_base_link_legacy"
        args="$(var lidar_x) $(var lidar_y) $(var lidar_z) $(var lidar_roll) $(var lidar_pitch) $(var lidar_yaw) utlidar_lidar $(var laserFixedFrame)"/>

</launch>
